{"version":3,"sources":["js/grid.js","js/config.js","js/slider.js","js/bodyScroll.js","js/request.js","js/validation.js","js/order.js","js/areas.js","js/formSubmit.js","js/index.js"],"names":["grid","document","createElement","className","body","appendChild","addEventListener","event","ctrlKey","code","classList","toggle","areasUrl","active","querySelector","e","slideId","target","dataset","slide","add","remove","previous","parentNode","insertBefore","once","windowScrollTop","hideBodyScroll","window","pageYOffset","style","position","hasScrollbar","width","getScrollbarSize","top","outer","visibility","msOverflowStyle","widthNoScroll","offsetWidth","overflow","inner","widthWithScroll","removeChild","scrollHeight","clientHeight","showBodyScroll","scroll","getData","url","Promise","resolve","reject","xhr","XMLHttpRequest","open","send","onload","response","onerror","error","initFormFields","inputs","getElementsByTagName","textareas","Array","from","forEach","element","previousElementSibling","contains","firstElementChild","onFocus","offFocus","regexpName","regexpEmail","regexpCode","regexpNumber","validateFormFields","field","getAttribute","test","value","undefined","matchArr","flag","note","innerHTML","i","closest","children","length","id","button","addressBlock","nextElementSibling","removeAttribute","setTimeout","setAttribute","productCard","popupOrder","popupPreOrder","popupOrderProductCard","popupPreOrderProductCard","chosenSize","productCards","querySelectorAll","setSize","item","activateButtonPreOrder","sizingContainers","currentSizingContainer","parentElement","closePopupOrder","display","product","lastElementChild","suggestionsWrapper","subString","suggestions","inputAreas","suggestionsWrappers","showSuggestions","inputValue","match","config","replace","then","cities","JSON","parse","SyntaxError","name","console","log","message","catch","city","orderForm","preventDefault","phone","elements","checked","innerText"],"mappings":"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","file":"js.8dda5216.js","sourceRoot":"..","sourcesContent":["const grid = document.createElement('div');\r\ngrid.className = 'grid';\r\ndocument.body.appendChild(grid);\r\n\r\ndocument.addEventListener('keydown', (event) => {\r\n    if (event.ctrlKey && event.code === 'KeyG') {\r\n        grid.classList.toggle('grid_visible');\r\n    }\r\n});\r\n","export default {\r\n  areasUrl: 'https://api.hh.ru/suggests/area_leaves?text={}'\r\n}","let active = document.querySelector('.js-slide.carousel-card_active');\r\n\r\ndocument.querySelector('.js-slide-buttons').addEventListener('click', (e) => {\r\n  const slideId = e.target.dataset.slideId;\r\n\r\n  if (!slideId) {\r\n    return;\r\n  }\r\n\r\n  if (active.dataset.slideId === slideId) {\r\n    return;\r\n  }\r\n\r\n  const slide = document.querySelector(`.js-slide[data-slide-id=\"${slideId}\"]`);\r\n\r\n  slide.classList.add('carousel-card_show');\r\n  active.classList.add('carousel-card_hide');\r\n  active.classList.remove('carousel-card_active');\r\n\r\n  const previous = active;\r\n\r\n  active = slide;\r\n\r\n  document\r\n    .querySelector(`.js-slide-button[data-slide-id=\"${previous.dataset.slideId}\"]`)\r\n    .classList.remove('carousel-dots__item_active');\r\n  document\r\n    .querySelector(`.js-slide-button[data-slide-id=\"${slideId}\"]`)\r\n    .classList.add('carousel-dots__item_active');\r\n\r\n  active.addEventListener('animationend', () => {\r\n    active.classList.add('carousel-card_active');\r\n    active.classList.remove('carousel-card_show');\r\n    previous.classList.remove('carousel-card_hide');\r\n    active.parentNode.insertBefore(active, previous); // чтобы слайды не уходили постоянно влево, для transition\r\n  },\r\n  {once: true}\r\n  );\r\n\r\n});","let windowScrollTop;\r\n\r\nexport function hideBodyScroll() {\r\n\r\n  document.body.classList.add('no-scroll');\r\n\r\n  windowScrollTop = window.pageYOffset; // текущая прокрутка сверху\r\n  document.body.style.position = 'fixed';\r\n\r\n  if (hasScrollbar()) {\r\n    // с учетом горизонтального скролла. Чтобы небыло рывка при открытии модального окна\r\n    document.body.style.width = `calc(100% - ${getScrollbarSize()}px)`;\r\n  } else {\r\n    document.body.style.width = '100%';\r\n  }\r\n  document.body.style.top = -windowScrollTop + 'px';\r\n}\r\n\r\nfunction getScrollbarSize() { // получение ширины скролла\r\n  let outer = document.createElement('div');\r\n  outer.style.visibility = 'hidden';\r\n  outer.style.width = '100px';\r\n  outer.style.msOverflowStyle = 'scrollbar'; // needed for WinJS apps\r\n\r\n  document.body.appendChild(outer);\r\n\r\n  let widthNoScroll = outer.offsetWidth;\r\n  // force scrollbars\r\n  outer.style.overflow = 'scroll';\r\n\r\n  let inner = document.createElement('div');\r\n  inner.style.width = '100%';\r\n  outer.appendChild(inner);\r\n\r\n  let widthWithScroll = inner.offsetWidth;\r\n\r\n  outer.parentNode.removeChild(outer);\r\n\r\n  return widthNoScroll - widthWithScroll;\r\n}\r\n\r\nfunction hasScrollbar() { // проверка на боковой скролл\r\n  return document.body.scrollHeight > document.body.clientHeight;\r\n}\r\n\r\nexport function showBodyScroll() {\r\n  document.body.classList.remove('no-scroll');\r\n\r\n  document.body.style.position = '';\r\n  document.body.style.width = '';\r\n  document.body.style.top = '';\r\n  window.scroll(0, windowScrollTop);\r\n}\r\n","export function getData(url) {\r\n\r\n  return new Promise(function (resolve, reject) {\r\n    let xhr = new XMLHttpRequest();\r\n\r\n    xhr.open('GET', url);\r\n\r\n    xhr.send();\r\n\r\n    xhr.onload = () => {\r\n      resolve(xhr.response);\r\n    };\r\n\r\n    xhr.onerror = () => {\r\n      reject(error);\r\n    };\r\n  })\r\n}","export function initFormFields() {\r\n\r\n  let inputs = document.getElementsByTagName('input'),\r\n    textareas = document.getElementsByTagName('textarea');\r\n\r\n  inputs = Array.from(inputs);\r\n  textareas = Array.from(textareas);\r\n\r\n  inputs.forEach(element => {\r\n    element.classList.remove('init');\r\n    element.classList.add('init');\r\n    \r\n    if (element.previousElementSibling != null && element.previousElementSibling.classList.contains('form__note')) {\r\n      element.parentNode.firstElementChild.remove();\r\n    }\r\n  });\r\n\r\n  textareas.forEach(element => {\r\n    element.classList.remove('init');\r\n    element.classList.add('init');\r\n  });\r\n}\r\n\r\ninitFormFields();\r\n\r\ndocument.addEventListener('focusin', (e) => {\r\n\r\n  if (e.target.classList.contains('init')) {\r\n    e.target.classList.remove('init');\r\n  }\r\n})\r\n\r\n\r\nconst regexpName = /^[А-Яа-яЁёA-Za-z]{1}[А-Яа-яЁёA-Za-z-]*[\\s][А-Яа-яЁёA-Za-z]{1}[А-Яа-яЁёA-Za-z-]*([А-Яа-яЁёA-Za-z-\\s])*$/,\r\n  regexpEmail = /^[\\w]{1}[\\w-\\.]*@[\\w-]+\\.[a-z]{2,4}$/i,\r\n  regexpCode = /^[+]{1}\\d{1,5}$/,\r\n  regexpNumber = /^[\\d]{3,7}$/;\r\n\r\nfunction validateFormFields(field) {\r\n  if (field.getAttribute('name') === 'name') {\r\n\r\n    return [regexpName.test(field.value), 'Введите данные в формате Фамилия Имя Отчество'];\r\n  }\r\n  else if (field.getAttribute('name') === 'email') {\r\n\r\n    return [regexpEmail.test(field.value), 'Введите эл.почту в формате email@domen'];\r\n  }\r\n  else if (field.getAttribute('name') === 'phone-pre') {\r\n\r\n    return [regexpCode.test(field.value), 'Введите код страны в формате +7, не более 5 цифр'];\r\n  }\r\n  else if (field.getAttribute('name') === 'phone-code' || field.getAttribute('name') === 'phone-number') {\r\n\r\n    return [regexpNumber.test(field.value), 'Введите от 3 до 7 цифр'];\r\n  }\r\n}\r\n\r\nlet onFocus,\r\n  offFocus;\r\n\r\ndocument.addEventListener(\"focusin\", function (e) {\r\n  let matchArr = validateFormFields(e.target);\r\n\r\n  if (matchArr === undefined) return;\r\n\r\n  onFocus = e.target;\r\n\r\n});\r\n\r\ndocument.addEventListener(\"focusout\", function (e) {\r\n  let matchArr;\r\n  let flag = true;\r\n\r\n  offFocus = e.target;\r\n\r\n  if (offFocus != undefined || offFocus != null) {\r\n    matchArr = validateFormFields(offFocus);\r\n  }\r\n\r\n  if (matchArr === undefined) return;\r\n\r\n  if (!matchArr[0]) {\r\n    let note = document.createElement('span');\r\n\r\n    note.classList.add('form__note');\r\n    note.innerHTML = matchArr[1];\r\n\r\n    if (!offFocus.parentNode.classList.contains('form__item')) {\r\n      for (let i = 0; i < offFocus.closest('.form__item').children.length; i++) {\r\n        if (offFocus.closest('.form__item').children[i].firstElementChild.classList.contains('form__note')) {\r\n          flag = false;\r\n        }\r\n      }\r\n    }\r\n\r\n    if (flag) {\r\n      offFocus.parentNode.insertBefore(note, offFocus);\r\n      offFocus.classList.add('error');\r\n    }\r\n  }\r\n  else {\r\n    if (offFocus.previousElementSibling && offFocus.previousElementSibling.classList.contains('form__note')) {\r\n      offFocus.previousElementSibling.remove();\r\n    }\r\n  }\r\n});\r\n\r\ndocument.addEventListener(\"input\", function (e) {\r\n  let matchArr = validateFormFields(e.target);\r\n\r\n  if (matchArr === undefined) return;\r\n\r\n  onFocus = e.target;\r\n\r\n  if (onFocus.previousElementSibling && onFocus.previousElementSibling.classList.contains('form__note')) {\r\n    onFocus.previousElementSibling.remove();\r\n    onFocus.classList.remove('error');\r\n  }\r\n});\r\n\r\n\r\ndocument.addEventListener('click', function (e) {\r\n\r\n  if (e.target.id != 'delivery-01' && e.target.id != 'delivery-02') return;\r\n\r\n  let button = e.target,\r\n    addressBlock = button.closest('.form__block').nextElementSibling;\r\n\r\n  if (button.id === 'delivery-01') {\r\n    addressBlock.classList.add('visuallyhidden');\r\n\r\n    addressBlock.addEventListener('transitionend', function (e) {\r\n\r\n      if (e.target != addressBlock) return;\r\n\r\n      addressBlock.classList.add('hidden');\r\n    });\r\n    for (let i = 0; i < addressBlock.children.length; i++) {\r\n\r\n      if (addressBlock.children[i].classList.contains('form__item')) {\r\n        addressBlock.children[i].firstElementChild.removeAttribute('required');\r\n      }\r\n    }\r\n  }\r\n  else {\r\n    addressBlock.classList.remove('hidden');\r\n\r\n    setTimeout(() => {\r\n      addressBlock.classList.remove('visuallyhidden');\r\n    }, 100);\r\n\r\n    for (let i = 0; i < addressBlock.children.length; i++) {\r\n\r\n      if (addressBlock.children[i].classList.contains('form__item')) {\r\n        addressBlock.children[i].firstElementChild.setAttribute('required', 'required');\r\n      }\r\n    }\r\n  }\r\n})","import { hideBodyScroll, showBodyScroll } from './bodyScroll.js';\r\nimport { initFormFields } from './validation.js';\r\n\r\nconst popupOrder = document.querySelector('.js-popup-order'),\r\n  popupPreOrder = document.querySelector('.js-popup-preorder'),\r\n  popupOrderProductCard = document.querySelector('.js-popup-order__card'),\r\n  popupPreOrderProductCard = document.querySelector('.js-popup-preorder__card');\r\n\r\nexport let productCard;\r\n\r\n// init popup-preorder\r\nlet productCards = document.querySelectorAll('.js-product-card');\r\nproductCards = Array.from(productCards);\r\n\r\nproductCards.forEach(element => {\r\n\r\n  element.addEventListener('click', function (e) {\r\n\r\n    productCard = element;\r\n    popupPreOrderProductCard.innerHTML = productCard.innerHTML;\r\n    popupPreOrderProductCard.dataset.product = productCard.dataset.product;\r\n    productCard.innerHTML = '';\r\n\r\n    let active = false;\r\n\r\n    Array.from(popupPreOrderProductCard.lastElementChild.previousElementSibling.children)\r\n      .forEach(element => {\r\n        if (element.firstElementChild.lastElementChild.classList.contains('active')) {\r\n          active = true;\r\n        }\r\n      });\r\n\r\n    if (popupPreOrderProductCard.lastElementChild.previousElementSibling.classList.contains('product-card__sizing-container') && !active) {\r\n      popupPreOrderProductCard.lastElementChild.classList.add('disabled');\r\n    }\r\n\r\n    popupPreOrder.style.display = 'block';\r\n\r\n    hideBodyScroll();\r\n  })\r\n})\r\n\r\n// init popup-order\r\nexport let chosenSize;\r\npopupPreOrder.addEventListener('click', function (e) {\r\n\r\n  if (e.target.classList.contains('product-card__order-button') && !e.target.classList.contains('disabled')) {\r\n\r\n    popupOrderProductCard.innerHTML = popupPreOrderProductCard.innerHTML;\r\n    popupOrderProductCard.dataset.product = popupPreOrderProductCard.dataset.product;\r\n    popupPreOrderProductCard.innerHTML = '';\r\n\r\n    popupPreOrder.style.display = 'none';\r\n    popupOrder.style.display = 'block';\r\n  }\r\n  else if (e.target.classList.contains('product-card__sizing-button')) {\r\n    chosenSize = e.target;\r\n    setSize(chosenSize);\r\n\r\n    activateButtonPreOrder(popupPreOrderProductCard);\r\n  }\r\n  else if (e.target === popupPreOrder) {\r\n    closePopupOrder();\r\n  }\r\n  else {\r\n    return;\r\n  }\r\n})\r\n\r\npopupOrder.addEventListener('click', function (e) {\r\n\r\n  if (!e.target.classList.contains('product-card__sizing-button')) return;\r\n\r\n  chosenSize = e.target;\r\n  setSize(chosenSize);\r\n\r\n})\r\n\r\n// close popup\r\ndocument.addEventListener('click', (e) => {\r\n\r\n  if (!e.target.classList.contains('popup__close')) return;\r\n\r\n  closePopupOrder();\r\n\r\n})\r\n\r\nfunction setSize(element) {\r\n  const buttons = document.querySelectorAll('.js-sizing-button');\r\n\r\n  buttons.forEach(item => {\r\n    item.classList.remove('active');\r\n    item.previousElementSibling.removeAttribute('checked');\r\n  })\r\n\r\n  element.classList.add('active');\r\n  element.previousElementSibling.setAttribute('checked', 'checked');\r\n}\r\n\r\nfunction activateButtonPreOrder(parentNode) {\r\n\r\n  let sizingContainers = document.querySelectorAll('.js-sizing-container');\r\n  sizingContainers = Array.from(sizingContainers);\r\n\r\n  let currentSizingContainer;\r\n\r\n  sizingContainers.forEach(element => {\r\n    if (element.parentElement == parentNode) {\r\n\r\n      currentSizingContainer = element;\r\n    }\r\n  });\r\n\r\n  currentSizingContainer.nextElementSibling.classList.remove('disabled');\r\n}\r\n\r\nexport function closePopupOrder() {\r\n  popupPreOrder.style.display = 'none';\r\n  popupOrder.style.display = 'none';\r\n\r\n  initFormFields();\r\n\r\n  showBodyScroll();\r\n\r\n  productCard.innerHTML = popupPreOrderProductCard.innerHTML ? popupPreOrderProductCard.innerHTML : popupOrderProductCard.innerHTML;\r\n  popupPreOrderProductCard.innerHTML = '';\r\n  popupOrderProductCard.innerHTML = '';\r\n}\r\n","import { getData } from './request.js';\r\nimport config from './config.js';\r\n\r\nlet suggestionsWrappers = document.querySelectorAll('.js-input-suggests-areas'),\r\n  suggestionsWrapper,\r\n  subString,\r\n  suggestions,\r\n  inputAreas;\r\n\r\ndocument.addEventListener('input', (e) => {\r\n\r\n  if (e.target.getAttribute('name') != 'city') return;\r\n\r\n  inputAreas = e.target;\r\n  suggestionsWrapper = inputAreas.parentNode.nextElementSibling.firstElementChild;\r\n\r\n  let inputValue = inputAreas.value;\r\n\r\n  if (inputValue.match(/[a-zA-Zа-яА-Я]/g)) {\r\n    subString = inputValue;\r\n  }\r\n\r\n  if (subString.length > 1) {\r\n    let url = config.areasUrl.replace('{}', subString);\r\n    getData(url).then((response) => {\r\n      try {\r\n        let cities = JSON.parse(response);\r\n\r\n        if (!cities['items']) {\r\n          throw new SyntaxError(\"response содержит ошибку, отсутствует ключ item\");\r\n        }\r\n\r\n        suggestions = cities['items'];\r\n\r\n        showSuggestions(suggestions);\r\n      }\r\n      catch (e) {\r\n        if (e.name == \"SyntaxError\") {\r\n          console.log(e.message);\r\n        } else {\r\n          throw e;\r\n        }\r\n        \r\n      }\r\n\r\n    }).catch(error => console.log(error));\r\n  }\r\n  else {\r\n    suggestionsWrapper.style.display = 'none';\r\n  }\r\n})\r\n\r\nArray.from(suggestionsWrappers).forEach(element => {\r\n\r\n  element.addEventListener('click', (e) => {\r\n\r\n    let city = e.target.innerHTML;\r\n\r\n    inputAreas.value = city;\r\n    element.style.display = 'none';\r\n  })\r\n});\r\n\r\n\r\nfunction showSuggestions(suggestions) {\r\n  suggestionsWrapper.innerHTML = '';\r\n  suggestionsWrapper.style.display = 'block';\r\n\r\n  suggestions.forEach(element => {\r\n    let item = document.createElement('div');\r\n\r\n    item.classList.add('input-suggests__item');\r\n    item.innerHTML = element['text'];\r\n    suggestionsWrapper.appendChild(item);\r\n  });\r\n}","import {closePopupOrder, chosenSize, productCard} from './order.js';\r\nimport {initFormFields} from './validation.js';\r\n\r\nconst orderForm = document.querySelector('.js-order-form');\r\n\r\norderForm.addEventListener('submit', (e) => {\r\n  e.preventDefault();\r\n\r\n  let phone = '';\r\n\r\n  Array.from(e.target.elements).forEach(element => {\r\n    if (element.getAttribute('type') === 'checkbox' && element.checked) {\r\n      console.log(element.getAttribute('name'),':', element.value);\r\n    }\r\n    else if(element.getAttribute('type') === 'radio' && element.checked) {\r\n      console.log(element.getAttribute('name'),':', element.value);\r\n    }\r\n    else if(element.getAttribute('name') === 'phone-pre' || element.getAttribute('name') === 'phone-code' || element.getAttribute('name') === 'phone-number') {\r\n      phone += element.value;\r\n    }\r\n    else if(element.getAttribute('type') === 'text' && element.value > 0) {\r\n      console.log(element.getAttribute('name'),':', element.value);\r\n    }\r\n    else if(element.getAttribute('name') === 'address' && element.value > 0) {\r\n      console.log(element.getAttribute('name'),':', element.value);\r\n    }\r\n    \r\n  })\r\n  console.log('phone :', phone);\r\n  console.log('product :', productCard.dataset.product);\r\n  if (chosenSize) {\r\n    console.log('chosen size :', chosenSize.innerText);\r\n  }\r\n  console.log('orderForm submited');\r\n\r\n  closePopupOrder();\r\n  \r\n  initFormFields();\r\n})","import './grid';\r\nimport './config';\r\nimport './slider';\r\nimport './bodyScroll';\r\nimport './request';\r\nimport './validation';\r\nimport './order';\r\nimport './areas';\r\nimport './formSubmit';\r\n"]}