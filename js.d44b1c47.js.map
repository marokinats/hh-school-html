{"version":3,"sources":["js/grid.js","js/slider.js","js/bodyScroll.js","js/validation.js","js/order.js","js/areas.js","js/formSubmit.js","js/index.js"],"names":["grid","document","createElement","className","body","appendChild","addEventListener","event","ctrlKey","code","classList","toggle","active","querySelector","e","slideId","target","dataset","slide","add","remove","previous","parentNode","insertBefore","once","windowScrollTop","hideBodyScroll","window","pageYOffset","style","position","hasScrollbar","width","getScrollbarSize","top","outer","visibility","msOverflowStyle","widthNoScroll","offsetWidth","overflow","inner","widthWithScroll","removeChild","scrollHeight","clientHeight","showBodyScroll","scroll","initFormFields","inputs","getElementsByTagName","textareas","Array","from","forEach","element","contains","regexpName","regexpEmail","regexpCode","regexpNumber","validateFormFields","field","getAttribute","test","value","matchArr","undefined","setCustomValidity","productCard","popupOrder","popupPreOrder","popupOrderProductCard","popupPreOrderProductCard","chosenSize","productCards","querySelectorAll","setSize","item","previousElementSibling","removeAttribute","setAttribute","activateButtonPreOrder","sizingContainers","currentSizingContainer","parentElement","nextElementSibling","closePopupOrder","display","innerHTML","product","lastElementChild","children","firstElementChild","getData","url","Promise","resolve","reject","xhr","XMLHttpRequest","open","send","onload","response","onerror","subString","suggestions","suggestionsWrapper","inputAreas","showSuggestions","inputValue","match","then","cities","JSON","parse","city","orderForm","preventDefault","phone","elements","checked","console","log","innerText"],"mappings":"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","file":"js.d44b1c47.js","sourceRoot":"..","sourcesContent":["const grid = document.createElement('div');\r\ngrid.className = 'grid';\r\ndocument.body.appendChild(grid);\r\n\r\ndocument.addEventListener('keydown', (event) => {\r\n    if (event.ctrlKey && event.code === 'KeyG') {\r\n        grid.classList.toggle('grid_visible');\r\n    }\r\n});\r\n","let active = document.querySelector('.js-slide.carousel-card_active');\r\n\r\ndocument.querySelector('.js-slide-buttons').addEventListener('click', (e) => {\r\n  const slideId = e.target.dataset.slideId;\r\n\r\n  if (!slideId) {\r\n    return;\r\n  }\r\n\r\n  if (active.dataset.slideId === slideId) {\r\n    return;\r\n  }\r\n\r\n  const slide = document.querySelector(`.js-slide[data-slide-id=\"${slideId}\"]`);\r\n\r\n  slide.classList.add('carousel-card_show');\r\n  active.classList.add('carousel-card_hide');\r\n  active.classList.remove('carousel-card_active');\r\n\r\n  const previous = active;\r\n\r\n  active = slide;\r\n\r\n  document\r\n    .querySelector(`.js-slide-button[data-slide-id=\"${previous.dataset.slideId}\"]`)\r\n    .classList.remove('carousel-dots__item_active');\r\n  document\r\n    .querySelector(`.js-slide-button[data-slide-id=\"${slideId}\"]`)\r\n    .classList.add('carousel-dots__item_active');\r\n\r\n  active.addEventListener('animationend', () => {\r\n    active.classList.add('carousel-card_active');\r\n    active.classList.remove('carousel-card_show');\r\n    previous.classList.remove('carousel-card_hide');\r\n    active.parentNode.insertBefore(active, previous); // чтобы слайды не уходили постоянно влево, для transition\r\n  },\r\n  {once: true}\r\n  );\r\n\r\n});","let windowScrollTop;\r\n\r\nexport function hideBodyScroll() {\r\n\r\n  document.body.classList.add('no-scroll');\r\n\r\n  windowScrollTop = window.pageYOffset; // текущая прокрутка сверху\r\n  document.body.style.position = 'fixed';\r\n\r\n  if (hasScrollbar()) {\r\n    // с учетом горизонтального скролла. Чтобы небыло рывка при открытии модального окна\r\n    document.body.style.width = `calc(100% - ${getScrollbarSize()}px)`;\r\n  } else {\r\n    document.body.style.width = '100%';\r\n  }\r\n  document.body.style.top = -windowScrollTop + 'px';\r\n}\r\n\r\nfunction getScrollbarSize() { // получение ширины скролла\r\n  let outer = document.createElement('div');\r\n  outer.style.visibility = 'hidden';\r\n  outer.style.width = '100px';\r\n  outer.style.msOverflowStyle = 'scrollbar'; // needed for WinJS apps\r\n\r\n  document.body.appendChild(outer);\r\n\r\n  let widthNoScroll = outer.offsetWidth;\r\n  // force scrollbars\r\n  outer.style.overflow = 'scroll';\r\n\r\n  let inner = document.createElement('div');\r\n  inner.style.width = '100%';\r\n  outer.appendChild(inner);\r\n\r\n  let widthWithScroll = inner.offsetWidth;\r\n\r\n  outer.parentNode.removeChild(outer);\r\n\r\n  return widthNoScroll - widthWithScroll;\r\n}\r\n\r\nfunction hasScrollbar() { // проверка на боковой скролл\r\n  return document.body.scrollHeight > document.body.clientHeight;\r\n}\r\n\r\nexport function showBodyScroll() {\r\n  document.body.classList.remove('no-scroll');\r\n\r\n  document.body.style.position = '';\r\n  document.body.style.width = '';\r\n  document.body.style.top = '';\r\n  window.scroll(0, windowScrollTop);\r\n}\r\n","export function initFormFields() {\r\n\r\n  let inputs = document.getElementsByTagName('input'),\r\n    textareas = document.getElementsByTagName('textarea');\r\n\r\n  inputs = Array.from(inputs);\r\n  textareas = Array.from(textareas);\r\n\r\n  inputs.forEach(element => {\r\n    element.classList.remove('init');\r\n    element.classList.add('init');\r\n  });\r\n\r\n  textareas.forEach(element => {\r\n    element.classList.remove('init');\r\n    element.classList.add('init');\r\n  });\r\n\r\n  // inputs.forEach(element => {\r\n  //   if (element.classList.contains('init')) {\r\n  //     element.classList.remove('init');\r\n  //   }\r\n  //   else {\r\n  //     element.classList.add('init');\r\n  //   }\r\n\r\n  // });\r\n\r\n  // textareas.forEach(element => {\r\n  //   if (element.classList.contains('init')) {\r\n  //     element.classList.remove('init');\r\n  //   }\r\n  //   else {\r\n  //     element.classList.add('init');\r\n  //   }\r\n  // });\r\n}\r\n\r\ninitFormFields();\r\n\r\ndocument.addEventListener('focusin', (e) => {\r\n\r\n  if (e.target.classList.contains('init')) {\r\n    e.target.classList.remove('init');\r\n  }\r\n})\r\n\r\n\r\nconst regexpName = /^[А-Яа-яЁёA-Za-z]{1}[А-Яа-яЁёA-Za-z-]*[\\s][А-Яа-яЁёA-Za-z]{1}[А-Яа-яЁёA-Za-z-]*([А-Яа-яЁёA-Za-z-\\s])*$/,\r\n  regexpEmail = /^[\\w]{1}[\\w-\\.]*@[\\w-]+\\.[a-z]{2,4}$/i,\r\n  regexpCode = /^[+]{1}\\d{1,5}$/,\r\n  regexpNumber = /^[\\d]{3,7}$/;\r\n\r\nfunction validateFormFields(field) {\r\n  if (field.getAttribute('name') === 'name') {\r\n\r\n    return [regexpName.test(field.value), 'Введите данные в формате Фамилия Имя Отчество'];\r\n  }\r\n  else if (field.getAttribute('name') === 'email') {\r\n\r\n    return [regexpEmail.test(field.value), 'Введите эл.почту в формате email@domen'];\r\n  }\r\n  else if (field.getAttribute('name') === 'phone-pre') {\r\n\r\n    return [regexpCode.test(field.value), 'Введите код страны в формате +7'];\r\n  }\r\n  else if (field.getAttribute('name') === 'phone-code') {\r\n\r\n    return [regexpNumber.test(field.value), 'Код должен содержать только цифры'];\r\n  }\r\n  else if (field.getAttribute('name') === 'phone-number') {\r\n\r\n    return [regexpNumber.test(field.value), 'Номер телефона должен содержать только цифры'];\r\n  }\r\n\r\n}\r\n\r\ndocument.addEventListener(\"input\", function (e) {\r\n  let matchArr = validateFormFields(e.target);\r\n  if (matchArr === undefined) return;\r\n\r\n  if (!matchArr[0]) {\r\n    e.target.setCustomValidity(matchArr[1]);\r\n  }\r\n  else {\r\n    e.target.setCustomValidity('');\r\n  }\r\n});\r\n","import { hideBodyScroll, showBodyScroll } from './bodyScroll.js';\r\nimport { initFormFields } from './validation.js';\r\n\r\nconst popupOrder = document.querySelector('#popup-order'),\r\n  popupPreOrder = document.querySelector('#popup-preorder'),\r\n  popupOrderProductCard = document.querySelector('.popup-order__card'),\r\n  popupPreOrderProductCard = document.querySelector('.popup-preorder__card');\r\n\r\nexport let productCard;\r\n\r\n// init popup-preorder\r\nlet productCards = document.querySelectorAll('.product-card');\r\nproductCards = Array.from(productCards);\r\n\r\nproductCards.forEach(element => {\r\n\r\n  element.addEventListener('click', function (e) {\r\n\r\n    productCard = element;\r\n    popupPreOrderProductCard.innerHTML = productCard.innerHTML;\r\n    popupPreOrderProductCard.dataset.product = productCard.dataset.product;\r\n    productCard.innerHTML = '';\r\n\r\n    let active = false;\r\n\r\n    Array.from(popupPreOrderProductCard.lastElementChild.previousElementSibling.children)\r\n      .forEach(element => {\r\n        if (element.firstElementChild.lastElementChild.classList.contains('active')) {\r\n          active = true;\r\n        }\r\n      });\r\n\r\n    if (popupPreOrderProductCard.lastElementChild.previousElementSibling.classList.contains('product-card__sizing-container') && !active) {\r\n      popupPreOrderProductCard.lastElementChild.classList.add('disabled');\r\n    }\r\n\r\n    popupPreOrder.style.display = 'block';\r\n\r\n    hideBodyScroll();\r\n  })\r\n})\r\n\r\n// init popup-order\r\nexport let chosenSize;\r\npopupPreOrder.addEventListener('click', function (e) {\r\n\r\n  if (e.target.classList.contains('product-card__order-button') && !e.target.classList.contains('disabled')) {\r\n\r\n    popupOrderProductCard.innerHTML = popupPreOrderProductCard.innerHTML;\r\n    popupOrderProductCard.dataset.product = popupPreOrderProductCard.dataset.product;\r\n    popupPreOrderProductCard.innerHTML = '';\r\n\r\n    popupPreOrder.style.display = 'none';\r\n    popupOrder.style.display = 'block';\r\n  }\r\n  else if (e.target.classList.contains('product-card__sizing-button')) {\r\n    chosenSize = e.target;\r\n    setSize(chosenSize);\r\n\r\n    activateButtonPreOrder(popupPreOrderProductCard);\r\n  }\r\n  else if (e.target === popupPreOrder) {\r\n    closePopupOrder();\r\n  }\r\n  else {\r\n    return;\r\n  }\r\n})\r\n\r\npopupOrder.addEventListener('click', function (e) {\r\n\r\n  if (!e.target.classList.contains('product-card__sizing-button')) return;\r\n\r\n  chosenSize = e.target;\r\n  setSize(chosenSize);\r\n\r\n})\r\n\r\n// close popup\r\ndocument.addEventListener('click', (e) => {\r\n\r\n  if (!e.target.classList.contains('popup__close')) return;\r\n\r\n  closePopupOrder();\r\n\r\n})\r\n\r\nfunction setSize(element) {\r\n  const buttons = document.querySelectorAll('.product-card__sizing-button');\r\n\r\n  buttons.forEach(item => {\r\n    item.classList.remove('active');\r\n    item.previousElementSibling.removeAttribute('checked');\r\n  })\r\n\r\n  element.classList.add('active');\r\n  element.previousElementSibling.setAttribute('checked', 'checked');\r\n}\r\n\r\nfunction activateButtonPreOrder(parentNode) {\r\n\r\n  let sizingContainers = document.querySelectorAll('.product-card__sizing-container');\r\n  sizingContainers = Array.from(sizingContainers);\r\n\r\n  let currentSizingContainer;\r\n\r\n  sizingContainers.forEach(element => {\r\n    if (element.parentElement == parentNode) {\r\n\r\n      currentSizingContainer = element;\r\n    }\r\n  });\r\n\r\n  currentSizingContainer.nextElementSibling.classList.remove('disabled');\r\n}\r\n\r\nexport function closePopupOrder() {\r\n  popupPreOrder.style.display = 'none';\r\n  popupOrder.style.display = 'none';\r\n\r\n  initFormFields();\r\n\r\n  showBodyScroll();\r\n\r\n  productCard.innerHTML = popupPreOrderProductCard.innerHTML ? popupPreOrderProductCard.innerHTML : popupOrderProductCard.innerHTML;\r\n  popupPreOrderProductCard.innerHTML = '';\r\n  popupOrderProductCard.innerHTML = '';\r\n}\r\n","function getData(url) {\r\n\r\n  return new Promise(function (resolve, reject) {\r\n    let xhr = new XMLHttpRequest();\r\n\r\n    xhr.open('GET', url);\r\n\r\n    xhr.send();\r\n\r\n    xhr.onload = () => {\r\n      resolve(xhr.response);\r\n    };\r\n\r\n    xhr.onerror = () => {\r\n      reject([]);\r\n    };\r\n  })\r\n}\r\n\r\nconst suggestionsWrapper = document.querySelector('#input-suggests-areas'),\r\n  inputAreas = document.querySelector('#areas');\r\n\r\nlet subString,\r\n  suggestions;\r\n\r\ninputAreas.addEventListener('input', (e) => {\r\n\r\n  let inputValue = e.target.value;\r\n\r\n  if (inputValue.match(/[a-zA-Zа-яА-Я]/g)) {\r\n    subString = inputValue;\r\n  }\r\n\r\n  let url = 'https://api.hh.ru/suggests/area_leaves?text=' + subString;\r\n\r\n  getData(url).then((response) => {\r\n\r\n    let cities = JSON.parse(response);\r\n\r\n    suggestions = cities['items'];\r\n\r\n    showSuggestions(suggestions);\r\n\r\n  })\r\n})\r\n\r\nsuggestionsWrapper.addEventListener('click', (e) => {\r\n  let city = e.target.innerHTML;\r\n\r\n  inputAreas.value = city;\r\n  suggestionsWrapper.style.display = 'none';\r\n})\r\n\r\nfunction showSuggestions(suggestions) {\r\n  suggestionsWrapper.innerHTML = '';\r\n  suggestionsWrapper.style.display = 'block';\r\n\r\n  suggestions.forEach(element => {\r\n    let item = document.createElement('div');\r\n\r\n    item.classList.add('input-suggests__item');\r\n    item.innerHTML = element['text'];\r\n    suggestionsWrapper.appendChild(item);\r\n  });\r\n}","import {closePopupOrder, chosenSize, productCard} from './order.js';\r\nimport {initFormFields} from './validation.js';\r\n\r\nconst orderForm = document.querySelector('.popup-order__form');\r\n\r\norderForm.addEventListener('submit', (e) => {\r\n  e.preventDefault();\r\n\r\n  let phone = '';\r\n\r\n  Array.from(e.target.elements).forEach(element => {\r\n    if (element.getAttribute('type') === 'checkbox' && element.checked) {\r\n      console.log(element.getAttribute('name'),':', element.value);\r\n    }\r\n    else if(element.getAttribute('type') === 'radio' && element.checked) {\r\n      console.log(element.getAttribute('name'),':', element.value);\r\n    }\r\n    else if(element.getAttribute('name') === 'phone-pre' || element.getAttribute('name') === 'phone-code' || element.getAttribute('name') === 'phone-number') {\r\n      phone += element.value;\r\n    }\r\n    else if(element.getAttribute('type') === 'text') {\r\n      console.log(element.getAttribute('name'),':', element.value);\r\n    }\r\n    else if(element.getAttribute('name') === 'address') {\r\n      console.log(element.getAttribute('name'),':', element.value);\r\n    }\r\n    \r\n  })\r\n  console.log('phone :', phone);\r\n  console.log('product :', productCard.dataset.product);\r\n  console.log('chosen size :', chosenSize.innerText);\r\n  console.log('orderForm submited');\r\n\r\n  closePopupOrder();\r\n  \r\n  initFormFields();\r\n})","import './grid';\r\nimport './slider';\r\nimport './bodyScroll';\r\nimport './validation';\r\nimport './order';\r\nimport './areas';\r\nimport './formSubmit';\r\n"]}