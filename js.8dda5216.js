parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"mwQg":[function(require,module,exports) {
var e=document.createElement("div");e.className="grid",document.body.appendChild(e),document.addEventListener("keydown",function(d){d.ctrlKey&&"KeyG"===d.code&&e.classList.toggle("grid_visible")});
},{}],"mRRC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={areasUrl:"https://api.hh.ru/suggests/area_leaves?text={}"};exports.default=e;
},{}],"wzuc":[function(require,module,exports) {
var e=document.querySelector(".js-slide.carousel-card_active");document.querySelector(".js-slide-buttons").addEventListener("click",function(s){var a=s.target.dataset.slideId;if(a&&e.dataset.slideId!==a){var t=document.querySelector('.js-slide[data-slide-id="'.concat(a,'"]'));t.classList.add("carousel-card_show"),e.classList.add("carousel-card_hide"),e.classList.remove("carousel-card_active");var d=e;e=t,document.querySelector('.js-slide-button[data-slide-id="'.concat(d.dataset.slideId,'"]')).classList.remove("carousel-dots__item_active"),document.querySelector('.js-slide-button[data-slide-id="'.concat(a,'"]')).classList.add("carousel-dots__item_active"),e.addEventListener("animationend",function(){e.classList.add("carousel-card_active"),e.classList.remove("carousel-card_show"),d.classList.remove("carousel-card_hide"),e.parentNode.insertBefore(e,d)},{once:!0})}});
},{}],"I7IG":[function(require,module,exports) {
"use strict";var e;function t(){document.body.classList.add("no-scroll"),e=window.pageYOffset,document.body.style.position="fixed",d()?document.body.style.width="calc(100% - ".concat(o(),"px)"):document.body.style.width="100%",document.body.style.top=-e+"px"}function o(){var e=document.createElement("div");e.style.visibility="hidden",e.style.width="100px",e.style.msOverflowStyle="scrollbar",document.body.appendChild(e);var t=e.offsetWidth;e.style.overflow="scroll";var o=document.createElement("div");o.style.width="100%",e.appendChild(o);var d=o.offsetWidth;return e.parentNode.removeChild(e),t-d}function d(){return document.body.scrollHeight>document.body.clientHeight}function l(){document.body.classList.remove("no-scroll"),document.body.style.position="",document.body.style.width="",document.body.style.top="",window.scroll(0,e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.hideBodyScroll=t,exports.showBodyScroll=l;
},{}],"wNoL":[function(require,module,exports) {
"use strict";function e(e){return new Promise(function(n,o){var r=new XMLHttpRequest;r.open("GET",e),r.send(),r.onload=function(){n(r.response)},r.onerror=function(){o(error)}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getData=e;
},{}],"JXHT":[function(require,module,exports) {
"use strict";function e(){var e=document.getElementsByTagName("input"),t=document.getElementsByTagName("textarea");e=Array.from(e),t=Array.from(t),e.forEach(function(e){e.classList.remove("init"),e.classList.add("init"),null!=e.previousElementSibling&&e.previousElementSibling.classList.contains("form__note")&&e.parentNode.firstElementChild.remove()}),t.forEach(function(e){e.classList.remove("init"),e.classList.add("init")})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.initFormFields=e,e(),document.addEventListener("focusin",function(e){e.target.classList.contains("init")&&e.target.classList.remove("init")});var t,i,n=/^[А-Яа-яЁёA-Za-z]{1}[А-Яа-яЁёA-Za-z-]*[\s][А-Яа-яЁёA-Za-z]{1}[А-Яа-яЁёA-Za-z-]*([А-Яа-яЁёA-Za-z-\s])*$/,r=/^[\w]{1}[\w-\.]*@[\w-]+\.[a-z]{2,4}$/i,s=/^[+]{1}\d{1,5}$/,o=/^[\d]{3,7}$/;function a(e){return"name"===e.getAttribute("name")?[n.test(e.value),"Введите данные в формате Фамилия Имя Отчество"]:"email"===e.getAttribute("name")?[r.test(e.value),"Введите эл.почту в формате email@domen"]:"phone-pre"===e.getAttribute("name")?[s.test(e.value),"Введите код страны в формате +7, не более 5 цифр"]:"phone-code"===e.getAttribute("name")||"phone-number"===e.getAttribute("name")?[o.test(e.value),"Введите от 3 до 7 цифр"]:void 0}document.addEventListener("focusin",function(e){void 0!==a(e.target)&&(t=e.target)}),document.addEventListener("focusout",function(e){var t,n=!0;if(null==(i=e.target)&&null==i||(t=a(i)),void 0!==t)if(t[0])i.previousElementSibling&&i.previousElementSibling.classList.contains("form__note")&&i.previousElementSibling.remove();else{var r=document.createElement("span");if(r.classList.add("form__note"),r.innerHTML=t[1],!i.parentNode.classList.contains("form__item"))for(var s=0;s<i.closest(".form__item").children.length;s++)i.closest(".form__item").children[s].firstElementChild.classList.contains("form__note")&&(n=!1);n&&(i.parentNode.insertBefore(r,i),i.classList.add("error"))}}),document.addEventListener("input",function(e){void 0!==a(e.target)&&(t=e.target).previousElementSibling&&t.previousElementSibling.classList.contains("form__note")&&(t.previousElementSibling.remove(),t.classList.remove("error"))}),document.addEventListener("click",function(e){if("delivery-01"==e.target.id||"delivery-02"==e.target.id){var t=e.target,i=t.closest(".form__block").nextElementSibling;if("delivery-01"===t.id){i.classList.add("visuallyhidden"),i.addEventListener("transitionend",function(e){e.target==i&&i.classList.add("hidden")});for(var n=0;n<i.children.length;n++)i.children[n].classList.contains("form__item")&&i.children[n].firstElementChild.removeAttribute("required")}else{i.classList.remove("hidden"),setTimeout(function(){i.classList.remove("visuallyhidden")},100);for(var r=0;r<i.children.length;r++)i.children[r].classList.contains("form__item")&&i.children[r].firstElementChild.setAttribute("required","required")}}});
},{}],"hmUl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.closePopupOrder=u,exports.chosenSize=exports.productCard=void 0;var e,t=require("./bodyScroll.js"),r=require("./validation.js"),n=document.querySelector(".js-popup-order"),i=document.querySelector(".js-popup-preorder"),o=document.querySelector(".js-popup-order__card"),s=document.querySelector(".js-popup-preorder__card");exports.productCard=e;var c,l=document.querySelectorAll(".js-product-card");function a(e){document.querySelectorAll(".js-sizing-button").forEach(function(e){e.classList.remove("active"),e.previousElementSibling.removeAttribute("checked")}),e.classList.add("active"),e.previousElementSibling.setAttribute("checked","checked")}function d(e){var t,r=document.querySelectorAll(".js-sizing-container");(r=Array.from(r)).forEach(function(r){r.parentElement==e&&(t=r)}),t.nextElementSibling.classList.remove("disabled")}function u(){i.style.display="none",n.style.display="none",(0,r.initFormFields)(),(0,t.showBodyScroll)(),e.innerHTML=s.innerHTML?s.innerHTML:o.innerHTML,s.innerHTML="",o.innerHTML=""}(l=Array.from(l)).forEach(function(r){r.addEventListener("click",function(n){exports.productCard=e=r,s.innerHTML=e.innerHTML,s.dataset.product=e.dataset.product,e.innerHTML="";var o=!1;Array.from(s.lastElementChild.previousElementSibling.children).forEach(function(e){e.firstElementChild.lastElementChild.classList.contains("active")&&(o=!0)}),s.lastElementChild.previousElementSibling.classList.contains("product-card__sizing-container")&&!o&&s.lastElementChild.classList.add("disabled"),i.style.display="block",(0,t.hideBodyScroll)()})}),exports.chosenSize=c,i.addEventListener("click",function(e){if(e.target.classList.contains("product-card__order-button")&&!e.target.classList.contains("disabled"))o.innerHTML=s.innerHTML,o.dataset.product=s.dataset.product,s.innerHTML="",i.style.display="none",n.style.display="block";else if(e.target.classList.contains("product-card__sizing-button"))exports.chosenSize=c=e.target,a(c),d(s);else{if(e.target!==i)return;u()}}),n.addEventListener("click",function(e){e.target.classList.contains("product-card__sizing-button")&&(exports.chosenSize=c=e.target,a(c))}),document.addEventListener("click",function(e){e.target.classList.contains("popup__close")&&u()});
},{"./bodyScroll.js":"I7IG","./validation.js":"JXHT"}],"MKHy":[function(require,module,exports) {
"use strict";var e=require("./request.js"),t=n(require("./config.js"));function n(e){return e&&e.__esModule?e:{default:e}}var r,a,i,s,o=document.querySelectorAll(".js-input-suggests-areas");function l(e){r.innerHTML="",r.style.display="block",e.forEach(function(e){var t=document.createElement("div");t.classList.add("input-suggests__item"),t.innerHTML=e.text,r.appendChild(t)})}document.addEventListener("input",function(n){if("city"==n.target.getAttribute("name")){s=n.target,r=s.parentNode.nextElementSibling.firstElementChild;var o=s.value;if(o.match(/[a-zA-Zа-яА-Я]/g)&&(a=o),a.length>1){var c=t.default.areasUrl.replace("{}",a);(0,e.getData)(c).then(function(e){try{var t=JSON.parse(e);if(!t.items)throw new SyntaxError("response содержит ошибку, отсутствует ключ item");l(i=t.items)}catch(n){if("SyntaxError"!=n.name)throw n;console.log(n.message)}}).catch(function(e){return console.log(e)})}else r.style.display="none"}}),Array.from(o).forEach(function(e){e.addEventListener("click",function(t){var n=t.target.innerHTML;s.value=n,e.style.display="none"})});
},{"./request.js":"wNoL","./config.js":"mRRC"}],"pt9Q":[function(require,module,exports) {
"use strict";var e=require("./order.js"),t=require("./validation.js"),o=document.querySelector(".js-order-form");o.addEventListener("submit",function(o){o.preventDefault();var r="";Array.from(o.target.elements).forEach(function(e){"checkbox"===e.getAttribute("type")&&e.checked?console.log(e.getAttribute("name"),":",e.value):"radio"===e.getAttribute("type")&&e.checked?console.log(e.getAttribute("name"),":",e.value):"phone-pre"===e.getAttribute("name")||"phone-code"===e.getAttribute("name")||"phone-number"===e.getAttribute("name")?r+=e.value:"text"===e.getAttribute("type")&&e.value>0?console.log(e.getAttribute("name"),":",e.value):"address"===e.getAttribute("name")&&e.value>0&&console.log(e.getAttribute("name"),":",e.value)}),console.log("phone :",r),console.log("product :",e.productCard.dataset.product),e.chosenSize&&console.log("chosen size :",e.chosenSize.innerText),console.log("orderForm submited"),(0,e.closePopupOrder)(),(0,t.initFormFields)()});
},{"./order.js":"hmUl","./validation.js":"JXHT"}],"QvaY":[function(require,module,exports) {
"use strict";require("./grid"),require("./config"),require("./slider"),require("./bodyScroll"),require("./request"),require("./validation"),require("./order"),require("./areas"),require("./formSubmit");
},{"./grid":"mwQg","./config":"mRRC","./slider":"wzuc","./bodyScroll":"I7IG","./request":"wNoL","./validation":"JXHT","./order":"hmUl","./areas":"MKHy","./formSubmit":"pt9Q"}]},{},["QvaY"], null)
//# sourceMappingURL=js.8dda5216.js.map